<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>lampu</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<canvas id="canvas"></canvas> <div class="switch-plate"> <div class="switch on" id="lightSwitch"> <div class="switch-toggle"></div> </div> </div> <script src="matter.min.js"></script> <script> const canvas = document.getElementById('canvas'); const ctx = canvas.getContext('2d'); const lightSwitch = document.getElementById('lightSwitch'); canvas.width = window.innerWidth; canvas.height = window.innerHeight; let lightOn = true; let brightness = 1.0; const engine = Matter.Engine.create(); engine.world.gravity.y = 0.8; const ceiling = Matter.Bodies.rectangle(canvas.width / 2, 40, 20, 10, { isStatic: true }); const bulb = Matter.Bodies.circle(canvas.width / 2, canvas.height / 2, 22, { density: 0.006, frictionAir: 0.015, restitution: 0.3 }); const cord = Matter.Constraint.create({ bodyA: ceiling, bodyB: bulb, length: canvas.height / 2 - 62, stiffness: 0.95, damping: 0.02 }); const mouse = Matter.Mouse.create(canvas); const mouseConstraint = Matter.MouseConstraint.create(engine, { mouse: mouse, constraint: { stiffness: 0.8, render: { visible: false } } }); Matter.World.add(engine.world, [ceiling, bulb, cord, mouseConstraint]); lightSwitch.addEventListener('click', () => { lightOn = !lightOn; lightSwitch.classList.toggle('off', !lightOn); }); function drawBackground() { ctx.fillStyle = lightOn ? '#1a1a1a' : '#050505'; ctx.fillRect(0, 0, canvas.width, canvas.height); } function drawRoom() { const roomColor = lightOn ? '#2a2a2a' : '#0f0f0f'; ctx.fillStyle = roomColor; ctx.fillRect(120, 80, canvas.width - 240, canvas.height - 160); ctx.fillStyle = lightOn ? '#222' : '#080808'; ctx.fillRect(0, 0, canvas.width, 80); ctx.fillStyle = lightOn ? '#1f1f1f' : '#0a0a0a'; ctx.fillRect(0, 80, 120, canvas.height - 160); ctx.fillRect(canvas.width - 120, 80, 120, canvas.height - 160); ctx.fillStyle = lightOn ? '#1f1f1f' : '#080808'; ctx.fillRect(0, canvas.height - 80, canvas.width, 80); } function drawRealisticLighting(x, y) { if (!lightOn) { brightness += (0 - brightness) * 0.08; return; } brightness += (1 - brightness) * 0.08; const gradient = ctx.createRadialGradient(x, y, 0, x, y, 450); gradient.addColorStop(0, `rgba(255, 240, 200, ${0.9 * brightness})`); gradient.addColorStop(0.2, `rgba(255, 230, 180, ${0.7 * brightness})`); gradient.addColorStop(0.4, `rgba(255, 210, 160, ${0.5 * brightness})`); gradient.addColorStop(0.6, `rgba(240, 190, 140, ${0.3 * brightness})`); gradient.addColorStop(0.8, `rgba(200, 160, 120, ${0.15 * brightness})`); gradient.addColorStop(1, 'rgba(150, 120, 100, 0)'); ctx.save(); ctx.beginPath(); ctx.rect(120, 80, canvas.width - 240, canvas.height - 160); ctx.clip(); ctx.globalCompositeOperation = 'screen'; ctx.fillStyle = gradient; ctx.beginPath(); ctx.arc(x, y, 450, 0, Math.PI * 2); ctx.fill(); ctx.globalCompositeOperation = 'source-over'; ctx.restore(); } function drawBulb(x, y) { ctx.strokeStyle = '#444'; ctx.lineWidth = 2; ctx.beginPath(); ctx.moveTo(canvas.width / 2, 45); ctx.lineTo(x, y - 25); ctx.stroke(); ctx.fillStyle = '#888'; ctx.fillRect(x - 12, y - 25, 24, 12); ctx.strokeStyle = '#555'; ctx.lineWidth = 0.5; for (let i = 0; i < 5; i++) { ctx.beginPath(); ctx.moveTo(x - 12, y - 22 + i * 2); ctx.lineTo(x + 12, y - 22 + i * 2); ctx.stroke(); } if (lightOn) { ctx.fillStyle = '#ffffff'; } else { ctx.fillStyle = '#e8e8e8'; } ctx.beginPath(); ctx.arc(x, y, 20, 0, Math.PI * 2); ctx.fill(); ctx.strokeStyle = 'rgba(200, 200, 200, 0.5)'; ctx.lineWidth = 1; ctx.beginPath(); ctx.arc(x, y, 20, 0, Math.PI * 2); ctx.stroke(); ctx.fillStyle = 'rgba(255, 255, 255, 0.7)'; ctx.beginPath(); ctx.ellipse(x - 8, y - 6, 3, 10, -0.2, 0, Math.PI * 2); ctx.fill(); if (lightOn) { ctx.strokeStyle = '#ff9900'; ctx.shadowColor = '#ff9900'; ctx.shadowBlur = 8; } else { ctx.strokeStyle = '#666'; ctx.shadowBlur = 0; } ctx.lineWidth = 1.5; ctx.beginPath(); ctx.moveTo(x, y - 12); ctx.lineTo(x, y + 12); ctx.stroke(); ctx.lineWidth = 1; ctx.beginPath(); ctx.moveTo(x - 8, y - 6); ctx.quadraticCurveTo(x, y, x + 8, y - 6); ctx.moveTo(x - 8, y + 6); ctx.quadraticCurveTo(x, y, x + 8, y + 6); ctx.stroke(); ctx.shadowBlur = 0; } function animate() { Matter.Engine.update(engine); const x = bulb.position.x; const y = bulb.position.y; ctx.clearRect(0, 0, canvas.width, canvas.height); drawBackground(); drawRoom(); drawRealisticLighting(x, y); drawBulb(x, y); requestAnimationFrame(animate); } canvas.addEventListener('mousedown', () => document.body.classList.add('dragging')); canvas.addEventListener('mouseup', () => document.body.classList.remove('dragging')); window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; Matter.Body.setPosition(ceiling, { x: canvas.width / 2, y: 40 }); cord.length = canvas.height / 2 - 62; }); animate(); </script>
<!-- partial -->
  
</body>
</html>
